{"version":3,"sources":["components/LoadingBox.js","components/MessageBox.js","constants/productConstants.js","actions/productActions.js","components/Rating.js","components/Product.js","Screens/HomeScreen.js","Screens/ProductScreen.js","constants/cartConstants.js","actions/cartActions.js","Screens/CartScreen.js","constants/userConstants.js","Screens/SignInScreen.js","actions/userActions.js","Screens/RegisterScreen.js","Screens/ProductsScreen.js","components/CheckOutStep.js","Screens/ShippingScreen.js","Screens/PaymentScreen.js","constants/orderConstant.js","actions/orderActions.js","Screens/PlaceOrderScreen.js","Screens/OrderScreen.js","Screens/ProfileScreen.js","components/AdminRoute.js","components/PrivateRoute.js","Screens/OrderListScreen.js","App.js","reportWebVitals.js","store.js","reducers/userReducers.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","index.js"],"names":["LoadingBox","className","MessageBox","props","variant","children","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_SAVE_REQUEST","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","listProducts","dispatch","a","type","axios","get","data","payload","message","Rating","rating","numReviews","Product","product","to","_id","src","image","alt","name","price","HomeScreen","productList","useSelector","state","products","loading","error","useDispatch","useEffect","map","ProductScreen","useState","qty","setQty","productDetails","productId","match","params","id","response","description","countInStock","value","onChange","e","target","Array","keys","x","onClick","history","push","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING","CART_SAVE_PAYMENT","CART_EMPTY","addToCart","getState","Axios","localStorage","setItem","JSON","stringify","cart","cartItems","CartScreen","location","search","Number","split","removeFromCardHandler","removeFromCart","length","item","reduce","c","disabled","USER_SIGNIN_REQUEST","USER_SIGNIN_FAIL","USER_SIGNIN_SUCCESS","USER_SIGNOUT","USER_REGISTER_REQUEST","USER_REGISTER_FAIL","USER_REGISTER_SUCCESS","USER_DETAILS_REQUEST","USER_DETAILS_FAIL","USER_DETAILS_SUCCESS","USER_UPDATE_REQUEST","USER_UPDATE_FAIL","USER_UPDATE_SUCCESS","USER_UPDATE_RESET","SignInScreen","email","setEmail","password","setPassword","userSignin","userInfo","redirect","onSubmit","preventDefault","post","signin","htmlFor","placeholder","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","userRegister","alert","register","Productscreen","modalVisible","setModalVisible","setId","setPrice","setImage","brand","setBrand","category","setCategory","setDescription","setCountInStock","setRating","setNumReviews","productSave","productDelete","successDelete","success","loadingSave","successSave","errorSave","openModal","deleteHandler","delete","headers","Authorization","token","put","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","shippingAddress","address","setAddress","fullName","setfullName","city","setCity","country","setCountry","postalCode","setPostalCode","PaymentScreen","paymentMethod","setPaymentMethod","checked","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_MINE_LIST_REQUEST","ORDER_MINE_LIST_SUCCESS","ORDER_MINE_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","ORDER_DELETE_RESET","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","detailsOrder","orderId","PlaceOrderScreen","toPrice","num","toFixed","itemsPrice","orderCreate","order","shippingPrice","taxPrice","totalPrice","placeOrderHandler","removeItem","createOrder","orderItems","payment","OrderScreen","sdkReady","setSdkReady","orderDetails","orderPay","successPay","orderDeliver","loadingDeliver","errorDeliver","successDeliver","undefined","addPayPalScript","script","document","createElement","async","onload","body","appendChild","isPaid","window","paypal","console","log","admin","isDelivered","deliveredAt","paidAt","amount","onSuccess","paymentResult","payOrder","deliverOrder","ProfileScreen","userDetails","user","userUpdateProfile","updateUserProfile","successUpdate","errorUpdate","loadingUpdate","userId","PrivateRoute","Component","component","rest","render","OrderListScreen","orderList","orders","orderDelete","loadingDelete","errorDelete","confirm","createdAt","substring","isDeliveredAt","App","rel","href","path","ProductsScreen","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","getItem","parse","reducer","combineReducers","action","shipping","find","filter","orderMineList","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.72a40148.chunk.js","sourcesContent":["import React from \"react\";\r\n//  * Component de chargement\r\nexport default function LoadingBox() {\r\n  return (\r\n    <div>\r\n      <i className=\"fa fa-spinner fa-spin\"></i> Loading...\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n//  * Component de message en cas d'erreur ou autre\r\nexport default function MessageBox(props) {\r\n  return (\r\n    <div className={`center alert alert-${props.variant || \"center info\"}`}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n","export const PRODUCT_LIST_REQUEST = \"PRODUCT_LIST_REQUEST\";\r\nexport const PRODUCT_LIST_SUCCESS = \"PRODUCT_LIST_SUCCESS\";\r\nexport const PRODUCT_LIST_FAIL = \"PRODUCT_LIST_FAIL\";\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = \"PRODUCT_DETAILS_REQUEST\";\r\nexport const PRODUCT_DETAILS_SUCCESS = \"PRODUCT_DETAILS_SUCCESS\";\r\nexport const PRODUCT_DETAILS_FAIL = \"PRODUCT_DETAILS_FAIL\";\r\n\r\nexport const PRODUCT_SAVE_REQUEST = \"PRODUCT_SAVE_REQUEST\";\r\nexport const PRODUCT_SAVE_SUCCESS = \"PRODUCT_SAVE_SUCCESS\";\r\nexport const PRODUCT_SAVE_FAIL = \"PRODUCT_SAVE_FAIL\";\r\n\r\nexport const PRODUCT_DELETE_REQUEST = \"PRODUCT_DELETE_REQUEST\";\r\nexport const PRODUCT_DELETE_SUCCESS = \"PRODUCT_DELETE_SUCCESS\";\r\nexport const PRODUCT_DELETE_FAIL = \"PRODUCT_DELETE_FAIL\";\r\n","import axios from \"axios\";\r\nimport {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_SAVE_REQUEST,\r\n  PRODUCT_SAVE_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n} from \"../constants/productConstants\";\r\n\r\nconst listProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    const { data } = await axios.get(\"/api/products\");\r\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst saveProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\r\n\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState(); // *  Permet de récupérer le Token\r\n    if (!product._id) {\r\n      const { data } = await axios.post(\"api/products\", product, {\r\n        headers: { Authorization: \"Bearer \" + userInfo.token },\r\n      });\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    } else {\r\n      const { data } = await axios.put(\"api/products/\" + product._id, product, {\r\n        headers: { Authorization: \"Bearer \" + userInfo.token },\r\n      });\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    }\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nconst detailsProduct = (productId) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n    const { data } = await axios.get(\"/api/product/\" + productId);\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nconst deleteProduct = (productId) => async (dispatch, getState) => {\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState(); // *  Permet de récupérer le Token\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n    const { data } = await axios.delete(\"/api/products/\" + productId, {\r\n      headers: { Authorization: \"Bearer\" + userInfo.token },\r\n    });\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport { listProducts, detailsProduct, saveProduct, deleteProduct };\r\n","import React from \"react\";\r\n// *  COmponent d'étoiles pour le notation\r\nexport default function Rating(props) {\r\n  const { rating, numReviews } = props;\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 1\r\n              ? \"fa fa-star\"\r\n              : rating >= 0.5\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 2\r\n              ? \"fa fa-star\"\r\n              : rating >= 1.5\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 3\r\n              ? \"fa fa-star\"\r\n              : rating >= 2.5\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 4\r\n              ? \"fa fa-star\"\r\n              : rating >= 3.5\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            rating >= 5\r\n              ? \"fa fa-star\"\r\n              : rating >= 4.5\r\n              ? \"fa fa-star-half-o\"\r\n              : \"fa fa-star-o\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>{numReviews + \" reviews\"}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"./Rating\";\r\n\r\n// * Comonente d'affichage pour un produit\r\nexport default function Product(props) {\r\n  const { product } = props;\r\n  return (\r\n    <div key={product._id} className=\"card card-home\">\r\n      <Link to={\"/product/\" + product._id}>\r\n        <img className=\"medium\" src={product.image} alt=\"product\" />\r\n      </Link>\r\n      <div className=\"card-body\">\r\n        <Link to={\"/product/\" + product._id}>\r\n          <h2>{product.name}</h2>\r\n        </Link>\r\n        <Rating rating={product.rating} numReviews={product.numReviews} />\r\n        <div className=\"price\"> ${product.price}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { listProducts } from \"../actions/productActions\";\r\nimport Product from \"../components/Product\";\r\n\r\nexport default function HomeScreen() {\r\n  const productList = useSelector((state) => state.productList);\r\n  const { products, loading, error } = productList;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listProducts());\r\n  }, [dispatch]);\r\n  return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div className=\"row center\">\r\n      {products.map((product) => {\r\n        return <Product key={product._id} product={product} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { detailsProduct } from \"../actions/productActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport Rating from \"../components/Rating\";\r\n\r\n/* \r\n*fait Arranger le lien back to result et le mettre dans un bouton\r\n*fait Mettre back to resulte dans un vrai bouton\r\nTODO Mettre une ombre dans la présentation du produit ou chercher un template cart\r\n*/\r\nexport default function ProductScreen(props) {\r\n  const [qty, setQty] = useState(1);\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { product, loading, error } = productDetails;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(detailsProduct(props.match.params.id));\r\n    return () => {\r\n      // * Return nothing\r\n    };\r\n  }, []); // ! If you don't put , [] at the end , he will start again over and over\r\n\r\n  const handleAddtoCart = () => {\r\n    props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"back-to-result\">\r\n        <Link to=\"/\">\r\n          <i className=\"fa fa-caret-left\"></i> Back to result\r\n        </Link>\r\n      </button>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <div className=\"row top\">\r\n          <div className=\"col-2 center\">\r\n            <img\r\n              className=\"medium\"\r\n              src={product.image}\r\n              alt={product.name}\r\n            ></img>\r\n          </div>\r\n          <div className=\"col-1 card \">\r\n            <ul>\r\n              <li>\r\n                <h1 className=\"font-list\"> {product.name}</h1>\r\n              </li>\r\n\r\n              <li>\r\n                <strong>Price :</strong> <b className=\"font-list\">$</b>\r\n                <span className=\"font-list\">{product.price}</span>\r\n              </li>\r\n              <li>\r\n                <strong>Description :</strong>{\" \"}\r\n                <span>{product.description}</span>\r\n              </li>\r\n              <li>\r\n                <Rating\r\n                  rating={product.rating}\r\n                  numReviews={product.numReviews}\r\n                ></Rating>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-1\">\r\n            <div className=\"card card-body\">\r\n              <ul>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <strong>Price</strong>\r\n                    <div className=\"price font-list\">${product.price}</div>\r\n                  </div>\r\n                </li>\r\n                <li>\r\n                  <div className=\"row\">\r\n                    <strong>Status</strong>\r\n                    <div className=\"font-list\">\r\n                      {product.countInStock > 0 ? (\r\n                        <span className=\"success\">In Stock</span>\r\n                      ) : (\r\n                        <span className=\"danger\">Unavailable</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n                {product.countInStock > 0 && (\r\n                  <li>\r\n                    <div className=\"row\">\r\n                      <strong>Quantity : </strong>\r\n                      <div className=\"font-list\">\r\n                        <select\r\n                          value={qty}\r\n                          onChange={(e) => {\r\n                            setQty(e.target.value);\r\n                          }}\r\n                        >\r\n                          {[...Array(product.countInStock).keys()].map((x) => (\r\n                            <option key={x} value={x + 1}>\r\n                              {x + 1}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                )}\r\n                <li>\r\n                  {product.countInStock > 0 && (\r\n                    <button onClick={handleAddtoCart} className=\"primary block\">\r\n                      Add to Cart\r\n                    </button>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const CART_ADD_ITEM = \"CART_ADD_ITEM\";\r\nexport const CART_REMOVE_ITEM = \"CART_REMOVE_ITEM\";\r\nexport const CART_SAVE_SHIPPING = \"CART_SAVE_SHIPPING\";\r\nexport const CART_SAVE_PAYMENT = \"CART_SAVE_PAYMENT;\";\r\nexport const CART_EMPTY = \"CART_EMPTY\";\r\n","import Axios from \"axios\";\r\nimport {\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_SHIPPING,\r\n  CART_SAVE_PAYMENT,\r\n} from \"../constants/cartConstants\";\r\n\r\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\"/api/product/\" + productId);\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        name: data.name,\r\n        product: data._id,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty,\r\n      },\r\n    });\r\n\r\n    localStorage.setItem(\r\n      \"cartItems\",\r\n      JSON.stringify(getState().cart.cartItems)\r\n    );\r\n  } catch (error) {}\r\n};\r\n\r\nconst removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems));\r\n};\r\nconst saveShipping = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\r\n  localStorage.setItem(\"shippingAddress\", JSON.stringify(data));\r\n};\r\n\r\nconst savePayment = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\r\n};\r\n\r\nexport { addToCart, removeFromCart, saveShipping, savePayment };\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { addToCart, removeFromCart } from \"../actions/cartActions\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n/* // TODO Mettre une meilleur forme au dessus du bouton Checkout\r\n  \r\n  * Fait   Aligner bouton et compteur \r\n  * Fait   Agrandir le texte du nom du produit et le prix\r\n  * Fait   Mettre une ombre ou quelque chose autour de la liste des produits\r\n*/\r\n\r\nexport default function CartScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n\r\n  const productId = props.match.params.id;\r\n  // * Permet de chercher la quantité dans le lien et de l'extraire\r\n  const qty = props.location.search\r\n    ? Number(props.location.search.split(\"=\")[1])\r\n    : 1;\r\n  const dispatch = useDispatch();\r\n  const removeFromCardHandler = (productId) => {\r\n    dispatch(removeFromCart(productId));\r\n  };\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"row top\">\r\n      <div className=\"col-2\">\r\n        <h1 className=\"cart-title\">Shopping Cart</h1>\r\n\r\n        {cartItems.length === 0 ? (\r\n          <MessageBox>\r\n            Cart is empty. <Link to=\"/\">Go Shopping</Link>\r\n          </MessageBox>\r\n        ) : (\r\n          <ul className=\"card\">\r\n            {cartItems.map((item) => (\r\n              <li key={item.product}>\r\n                <div className=\"row product-list\">\r\n                  <div>\r\n                    <img src={item.image} alt={item.name} className=\"small\" />\r\n                  </div>\r\n                  <div className=\"min-30 font-list\">\r\n                    <Link to={\"/product/\" + item.product}>{item.name}</Link>\r\n                  </div>\r\n                  <div className=\"flex\">\r\n                    <select\r\n                      value={item.qty}\r\n                      className=\"font-list\"\r\n                      onChange={(e) =>\r\n                        dispatch(addToCart(item.product, e.target.value))\r\n                      }\r\n                    >\r\n                      {[...Array(item.countInStock).keys()].map((x) => (\r\n                        <option key={x} value={x + 1}>\r\n                          {x + 1}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <div>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"font-list\"\r\n                        onClick={() => removeFromCardHandler(item.product)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"font-list\">${item.price}</div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div className=\"col-1\">\r\n        <div className=\"card card-body\">\r\n          <ul>\r\n            <li>\r\n              <h2>\r\n                Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items ) :\r\n                ${cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n              </h2>\r\n            </li>\r\n            <li>\r\n              <button\r\n                type=\"button\"\r\n                onClick={checkoutHandler}\r\n                className=\"primary block\"\r\n                disabled={cartItems.length === 0}\r\n              >\r\n                Proceed to Checkout\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const USER_SIGNIN_REQUEST = \"USER_SIGNIN_REQUEST\";\r\nexport const USER_SIGNIN_FAIL = \"USER_SIGNIN_FAIL\";\r\nexport const USER_SIGNIN_SUCCESS = \"USER_SIGNIN_SUCCESS\";\r\nexport const USER_SIGNOUT = \"USER_SIGNOUT\";\r\n\r\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\r\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\n\r\nexport const USER_DETAILS_REQUEST = \"USER_DETAILS_REQUEST\";\r\nexport const USER_DETAILS_FAIL = \"USER_DETAILS_FAIL\";\r\nexport const USER_DETAILS_SUCCESS = \"USER_DETAILS_SUCCESS\";\r\n\r\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\r\nexport const USER_UPDATE_FAIL = \"USER_UPDATE_FAIL\";\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\";\r\nexport const USER_UPDATE_RESET = \"USER_UPDATE_RESET\";\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\n// *fait Centrer You don't ...\r\n// *fait Mettre Create dans un bouton\r\n\r\nexport default function SignInScreen(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  // * Permet d'aller chercher les informations dans store avec le bon reducer\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo, loading, error } = userSignin;\r\n\r\n  // * Rediriger après un checkout\r\n  const redirect = props.location.search\r\n    ? props.location.search.split(\"=\")[1]\r\n    : \"/\";\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // ! If you don't put , [] at the end , he will start again over and over\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [props.history, redirect, userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1 className=\"text-center font-title\">Sign-In</h1>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n\r\n        <div>\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter password\"\r\n            required\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n          ></input>\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <button type=\"submit\" className=\"primary\">\r\n            Sign-In{\" \"}\r\n          </button>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <strong>You don't have you account ?</strong>\r\n        </div>\r\n\r\n        <div>\r\n          <button>\r\n            <Link\r\n              to={\r\n                redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect\r\n              }\r\n            >\r\n              Create your account\r\n            </Link>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import Axios from \"axios\";\r\n//import Cookie from \"js-cookie\";\r\nimport {\r\n  USER_REGISTER_FAIL,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_SIGNIN_FAIL,\r\n  USER_SIGNIN_REQUEST,\r\n  USER_SIGNIN_SUCCESS,\r\n  USER_SIGNOUT,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_FAIL,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_SUCCESS,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/signin\", {\r\n      email,\r\n      password,\r\n    });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n\r\n    // Cookie.set(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_SIGNIN_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const signout = () => (dispatch) => {\r\n  localStorage.removeItem(\"userInfo\");\r\n  localStorage.removeItem(\"cartItems\");\r\n  localStorage.removeItem(\"shippingAddress\");\r\n  dispatch({ type: USER_SIGNOUT });\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/register\", {\r\n      name,\r\n      email,\r\n      password,\r\n    });\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    //Cookie.set(\"userInfo\", JSON.stringify(data));\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_REGISTER_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const detailsUser = (userId) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_DETAILS_REQUEST, payload: userId });\r\n\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`/api/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n  dispatch({ type: USER_UPDATE_REQUEST, payload: user });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n\r\n  try {\r\n    const { data } = await Axios.put(`/api/users/profile`, user, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n\r\n    // *  Si on a changé il faut reconnecter avec les nouveaux paramètres\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: message });\r\n  }\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { register } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n// TODO centrer Already Signed & Created account\r\nexport default function RegisterScreen(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { loading, userInfo, error } = userRegister;\r\n\r\n  const redirect = props.location.search\r\n    ? props.location.search.split(\"=\")[1]\r\n    : \"/\"; // * Redirgier après un checkout\r\n\r\n  const dispatch = useDispatch();\r\n  // ! If you don't put , [] at the end , he will start again over and over\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      alert(\"Put the same password and confirmation please !\");\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n  }, [props.history, redirect, userInfo]);\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          {\" \"}\r\n          <h2>Create an account</h2>\r\n        </div>\r\n        {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n\r\n        <div>\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            placeholder=\"Enter name\"\r\n            type=\"name\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            required\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            placeholder=\"Enter email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            name=\"password\"\r\n            required\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n            }}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            confirmPassword\r\n            required\r\n            onChange={(e) => {\r\n              setConfirmPassword(e.target.value);\r\n            }}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" className=\"primary\">\r\n            Register{\" \"}\r\n          </button>\r\n        </div>\r\n        <div>\r\n          Already signed ? <br />\r\n          <br />\r\n          <Link\r\n            to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect}\r\n            className=\"button secondary text-center\"\r\n          >\r\n            SIgn-In\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  listProducts,\r\n  saveProduct,\r\n  deleteProduct,\r\n} from \"../actions/productActions\";\r\n\r\n// TODO Chercher ptet un template de tableau plus joli\r\n// *fait Quand on crée un produit le tableau doit disparaitre\r\n\r\nexport default function Productscreen(props) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [id, setId] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [countInStock, setCountInStock] = useState(\"\");\r\n  const [rating, setRating] = useState(\"\");\r\n  const [numReviews, setNumReviews] = useState(\"\");\r\n\r\n  const productSave = useSelector((state) => state.productSave);\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    success: successDelete,\r\n    error: errorDelete,\r\n  } = productDelete;\r\n\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, products, error } = productList;\r\n  const {\r\n    loading: loadingSave,\r\n    success: successSave,\r\n    error: errorSave,\r\n  } = productSave;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successSave) setModalVisible(false);\r\n    dispatch(listProducts());\r\n    return () => {\r\n      /* *  return nothing*/\r\n    };\r\n  }, [successSave, successDelete]);\r\n  // ! If you don't put , [] at the end , he will start again over and over\r\n\r\n  const openModal = (product) => {\r\n    setModalVisible(true);\r\n    setId(product._id);\r\n    setName(product.name);\r\n    setPrice(product.price);\r\n    setImage(product.image);\r\n    setBrand(product.brand);\r\n    setCategory(product.category);\r\n    setCountInStock(product.countInStock);\r\n    setDescription(product.description);\r\n    setRating(product.rating);\r\n    setNumReviews(product, numReviews);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      saveProduct({\r\n        _id: id,\r\n        name,\r\n        image,\r\n        brand,\r\n        price,\r\n        category,\r\n        countInStock,\r\n        description,\r\n        rating,\r\n        numReviews,\r\n      })\r\n    );\r\n  };\r\n\r\n  const deleteHandler = (product) => {\r\n    dispatch(deleteProduct(product._id));\r\n  };\r\n  return (\r\n    <div className=\"content content-margined\">\r\n      <div className=\"product-header\">\r\n        <h3 className=\"font-title\">Products</h3>\r\n        <button className=\"button primary\" onClick={() => openModal({})}>\r\n          {\" \"}\r\n          Create Product{\" \"}\r\n        </button>\r\n      </div>\r\n      {modalVisible && (\r\n        <div className=\"form\">\r\n          <form onSubmit={submitHandler}>\r\n            <div className=\"form\">\r\n              <div>\r\n                <h1 className=\"text-center font-title\">Create product</h1>\r\n              </div>\r\n              <div>\r\n                {loadingSave && <div> Loading .. </div>}\r\n                {errorSave && <div> {errorSave}</div>}\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"name\">\r\n                  <strong>Name</strong>\r\n                </label>\r\n                <input\r\n                  value={name}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  onChange={(e) => setName(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"price\">\r\n                  <strong>Price</strong>\r\n                </label>\r\n                <input\r\n                  value={price}\r\n                  type=\"text\"\r\n                  name=\"price\"\r\n                  id=\"price\"\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"image\">\r\n                  <strong>Image</strong>\r\n                </label>\r\n                <input\r\n                  value={image}\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  id=\"image\"\r\n                  onChange={(e) => setImage(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"brand\">\r\n                  <strong>Brand</strong>\r\n                </label>\r\n                <input\r\n                  value={brand}\r\n                  type=\"text\"\r\n                  name=\"brand\"\r\n                  id=\"brand\"\r\n                  onChange={(e) => setBrand(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"brand\">\r\n                  <strong>Count in Stock</strong>\r\n                </label>\r\n                <input\r\n                  value={countInStock}\r\n                  type=\"text\"\r\n                  name=\"countInStock\"\r\n                  id=\"countInStock\"\r\n                  onChange={(e) => setCountInStock(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"category\">\r\n                  <strong>Category</strong>\r\n                </label>\r\n                <input\r\n                  value={category}\r\n                  type=\"text\"\r\n                  name=\"category\"\r\n                  id=\"category\"\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                ></input>\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"description\">\r\n                  <strong>Description</strong>\r\n                </label>\r\n                <textarea\r\n                  value={description}\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  id=\"description\"\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"rating\">\r\n                  <strong>Rating</strong>\r\n                </label>\r\n                <input\r\n                  value={rating}\r\n                  type=\"text\"\r\n                  name=\"rating\"\r\n                  id=\"rating\"\r\n                  onChange={(e) => setRating(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"numReviews\">\r\n                  <strong>Numbers of reviews</strong>\r\n                </label>\r\n                <input\r\n                  value={numReviews}\r\n                  type=\"text\"\r\n                  name=\"numReviews\"\r\n                  id=\"numReviews\"\r\n                  onChange={(e) => setNumReviews(e.target.value)}\r\n                ></input>\r\n              </div>\r\n              <div>\r\n                <br />\r\n                <button type=\"submit\" className=\"button primary\">\r\n                  {id ? \"Update\" : \"Create\"}\r\n                </button>\r\n                <br />\r\n                <button\r\n                  onClick={() => setModalVisible(false)}\r\n                  type=\"submit\"\r\n                  className=\"button secondary\"\r\n                >\r\n                  Back{\" \"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {!modalVisible && (\r\n        <div className=\"product-list\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n                <th>Category</th>\r\n                <th>Brand</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((product) => (\r\n                <tr key={product._id}>\r\n                  <td>{product._id}</td>\r\n                  <td>{product.name}</td>\r\n                  <td>{product.price}</td>\r\n                  <td>{product.category}</td>\r\n                  <td>{product.brand}</td>\r\n                  <td>\r\n                    {\" \"}\r\n                    <button\r\n                      className=\"button\"\r\n                      onClick={() => openModal(product)}\r\n                    >\r\n                      {\" \"}\r\n                      Edit\r\n                    </button>{\" \"}\r\n                    <button\r\n                      className=\"button\"\r\n                      onClick={() => deleteHandler(product)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n// * Simple components qui permet de voir om en est la progression\r\nfunction CheckoutSteps(props) {\r\n  return (\r\n    <div className=\"row checkout-steps\">\r\n      <div className={props.step1 ? \"active\" : \"\"}>Signin</div>\r\n      <div className={props.step2 ? \"active\" : \"\"}>Shipping</div>\r\n      <div className={props.step3 ? \"active\" : \"\"}>Payment</div>\r\n      <div className={props.step4 ? \"active\" : \"\"}>Place Order</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { saveShipping } from \"../actions/cartActions\";\r\nimport CheckoutSteps from \"../components/CheckOutStep\";\r\n\r\nexport default function ShippingScreen(props) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  if (!userInfo) {\r\n    props.history.push(\"/signin\");\r\n  }\r\n\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n\r\n  const [address, setAddress] = useState(shippingAddress.address);\r\n  const [fullName, setfullName] = useState(shippingAddress.fullName);\r\n  const [city, setCity] = useState(shippingAddress.city);\r\n  const [country, setCountry] = useState(shippingAddress.country);\r\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShipping({ fullName, address, city, postalCode, country }));\r\n    props.history.push(\"/payment\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2>\r\n        {\" \"}\r\n      </CheckoutSteps>\r\n\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h2 className=\"text-center\">Shipping address</h2>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"fullName\">Full name</label>\r\n          <input\r\n            placeholder=\"Enter full name\"\r\n            type=\"text\"\r\n            name=\"fullName\"\r\n            id=\"fullName\"\r\n            onChange={(e) => setfullName(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input\r\n            placeholder=\"Enter address\"\r\n            type=\"text\"\r\n            name=\"address\"\r\n            id=\"address\"\r\n            onChange={(e) => setAddress(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"city\">City</label>\r\n          <input\r\n            placeholder=\"Enter city\"\r\n            type=\"text\"\r\n            name=\"city\"\r\n            id=\"city\"\r\n            onChange={(e) => setCity(e.target.value)}\r\n          ></input>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"postal-code\">Postal Code</label>\r\n          <input\r\n            placeholder=\"Enter postal code\"\r\n            type=\"numeric\"\r\n            name=\"postalCode\"\r\n            id=\"postalCode\"\r\n            onChange={(e) => setPostalCode(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"country\">Country</label>\r\n          <input\r\n            placeholder=\"Enter country\"\r\n            type=\"text\"\r\n            name=\"country\"\r\n            id=\"country\"\r\n            onChange={(e) => setCountry(e.target.value)}\r\n          ></input>\r\n        </div>\r\n\r\n        <div>\r\n          <label></label>\r\n          <button type=\"submit\" className=\" button primary\">\r\n            Continue{\" \"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { savePayment } from \"../actions/cartActions\";\r\nimport CheckoutSteps from \"../components/CheckOutStep\";\r\n// *fait Centrer les méthodes de paiement\r\nexport default function PaymentScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shippingAddress } = cart;\r\n  if (!shippingAddress.address) {\r\n    props.history.push(\"/shipping\");\r\n  }\r\n  const [paymentMethod, setPaymentMethod] = useState(\"Paypal\");\r\n  const dispatch = useDispatch();\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePayment(paymentMethod));\r\n    props.history.push(\"placeorder\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3>\r\n        {\" \"}\r\n      </CheckoutSteps>\r\n\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h2 className=\"text-center\">Payment method</h2>\r\n        </div>\r\n\r\n        <div>\r\n          <div className=\"text-center\">\r\n            <input\r\n              type=\"radio\"\r\n              value=\"paypal\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              checked\r\n              id=\"paymentMethod\"\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"paymentMethod\">Paypal</label>\r\n          </div>\r\n          <br />\r\n          <div className=\"text-center\">\r\n            <input\r\n              type=\"radio\"\r\n              value=\"stripe\"\r\n              name=\"paymentMethod\"\r\n              id=\"paymentMethod\"\r\n              required\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"paymentMethod\">Stripe</label>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <button type=\"submit\" className=\" button primary\">\r\n            Continue{\" \"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\r\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\r\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\r\nexport const ORDER_CREATE_RESET = \"ORDER_CREATE_RESET\";\r\n\r\nexport const ORDER_PAY_REQUEST = \"ORDER_PAY_REQUEST\";\r\nexport const ORDER_PAY_SUCCESS = \"ORDER_PAY_SUCCESS\";\r\nexport const ORDER_PAY_FAIL = \"ORDER_PAY_FAIL\";\r\nexport const ORDER_PAY_RESET = \"ORDER_PAY_RESET\";\r\n\r\nexport const ORDER_DETAILS_REQUEST = \"ORDER_DETAILS_REQUEST\";\r\nexport const ORDER_DETAILS_SUCCESS = \"ORDER_DETAILS_SUCCESS\";\r\nexport const ORDER_DETAILS_FAIL = \"ORDER_DETAILS_FAIL\";\r\n\r\nexport const ORDER_MINE_LIST_REQUEST = \"ORDER_MINE_LIST_REQUEST\";\r\nexport const ORDER_MINE_LIST_SUCCESS = \"ORDER_MINE_LIST_SUCCESS\";\r\nexport const ORDER_MINE_LIST_FAIL = \"ORDER_MINE_LIST_FAIL\";\r\n\r\nexport const ORDER_LIST_REQUEST = \"ORDER_LIST_REQUEST\";\r\nexport const ORDER_LIST_SUCCESS = \"ORDER_LIST_SUCCESS\";\r\nexport const ORDER_LIST_FAIL = \"ORDER_LIST_FAIL\";\r\n\r\nexport const ORDER_DELETE_REQUEST = \"ORDER_DELETE_REQUEST\";\r\nexport const ORDER_DELETE_SUCCESS = \"ORDER_DELETE_SUCCESS\";\r\nexport const ORDER_DELETE_FAIL = \"ORDER_DELETE_FAIL\";\r\nexport const ORDER_DELETE_RESET = \"ORDER_DELETE_RESET\";\r\n\r\nexport const ORDER_DELIVER_REQUEST = \"ORDER_DELIVER_REQUEST\";\r\nexport const ORDER_DELIVER_SUCCESS = \"ORDER_DELIVER_SUCCESS\";\r\nexport const ORDER_DELIVER_FAIL = \"ORDER_DELIVER_FAIL\";\r\nexport const ORDER_DELIVER_RESET = \"ORDER_DELIVER_RESET\";\r\n","import Axios from \"axios\";\r\nimport { CART_EMPTY } from \"../constants/cartConstants\";\r\nimport {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_DELETE_REQUEST,\r\n  ORDER_DELETE_SUCCESS,\r\n  ORDER_DELETE_FAIL,\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n} from \"../constants/orderConstant\";\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n  try {\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n\r\n    const { data } = await Axios.post(\"/api/orders\", order, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: data.order });\r\n    dispatch({ type: CART_EMPTY });\r\n    localStorage.removeItem(\"cartItems\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(`/api/orders/${orderId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const payOrder =\r\n  (order, paymentResult) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: { order, paymentResult } });\r\n    const {\r\n      userSignin: { userInfo },\r\n    } = getState();\r\n    try {\r\n      const { data } = Axios.put(\r\n        `/api/orders/${order._id}/pay`,\r\n        paymentResult,\r\n        {\r\n          headers: { Authorization: `Bearer ${userInfo.token}` },\r\n        }\r\n      );\r\n      dispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      const message =\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message;\r\n      dispatch({ type: ORDER_PAY_FAIL, payload: message });\r\n    }\r\n  };\r\nexport const listOrderMine = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_MINE_LIST_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(\"/api/orders/mine\", {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    });\r\n    dispatch({ type: ORDER_MINE_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_MINE_LIST_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_LIST_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get(\"api/orders\", {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    console.log(data);\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const deleteOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.delete(`/api/orders/${orderId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: message });\r\n  }\r\n};\r\n\r\nexport const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DELIVER_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.put(\r\n      `/api/orders/${orderId}/deliver`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${userInfo.token}` },\r\n      }\r\n    );\r\n    dispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DELIVER_FAIL, payload: message });\r\n  }\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createOrder } from \"../actions/orderActions\";\r\nimport CheckoutSteps from \"../components/CheckOutStep\";\r\nimport { ORDER_CREATE_RESET } from \"../constants/orderConstant\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n/* // TODO Espacer Nom et adresse ainsi que les alerts\r\n */\r\nexport default function PlaceOrderScreen(props) {\r\n  const cart = useSelector((state) => state.cart);\r\n  // * Il conserve dans cart pour écrire directement dedans ( Faster )\r\n\r\n  const toPrice = (num) => Number(num.toFixed(2)); // 5.123 => \"5.12\" => 5.12\r\n  cart.itemsPrice = toPrice(\r\n    cart.cartItems.reduce((a, c) => a + c.qty * c.price, 0)\r\n  );\r\n  if (!cart.paymentMethod) {\r\n    props.history.push(\"/payment\");\r\n  }\r\n  const orderCreate = useSelector((state) => state.orderCreate);\r\n  const { loading, success, order, error } = orderCreate;\r\n  cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(10);\r\n  cart.taxPrice = toPrice(0.15 * cart.itemsPrice);\r\n  cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n  const dispatch = useDispatch();\r\n  const placeOrderHandler = () => {\r\n    dispatch(createOrder({ ...cart, orderItems: cart.cartItems }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      dispatch({ type: ORDER_CREATE_RESET });\r\n      props.history.push(`/order/${order._id}`);\r\n    }\r\n  }, [dispatch, order, props.history, success]);\r\n\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3 step4>\r\n        {\" \"}\r\n      </CheckoutSteps>\r\n      <div className=\"placeorder\">\r\n        <div className=\"placeorder-info\">\r\n          <div>\r\n            <h3 className=\"font-title\"> Shipping</h3>{\" \"}\r\n            <div>\r\n              <strong>Name : </strong>\r\n              <span className=\"font-list\">\r\n                {cart.shippingAddress.fullName}{\" \"}\r\n              </span>\r\n              <br />\r\n              <strong>Address : </strong>{\" \"}\r\n              <span className=\"font-list\">\r\n                {cart.shippingAddress.address}, {cart.shippingAddress.city},\r\n                {cart.shippingAddress.postalCode},{\" \"}\r\n                {cart.shippingAddress.country}{\" \"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-title\"> Payment</h3>\r\n            <div>\r\n              {\" \"}\r\n              <strong>Payment Method :</strong>{\" \"}\r\n              <span className=\"font-list\">{cart.payment}. </span>{\" \"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className=\"cart-list-container\">\r\n              <li>\r\n                <h3 className=\"font-title\">Shopping Cart</h3>\r\n              </li>\r\n\r\n              {cart.cartItems.length === 0 ? (\r\n                <div className=\"font-title\">Cart is empty</div>\r\n              ) : (\r\n                cart.cartItems.map((item) => (\r\n                  <li key={item.product}>\r\n                    <div className=\"row full-width\">\r\n                      <div>\r\n                        <img className=\"small\" src={item.image} alt=\"product\" />\r\n                      </div>\r\n                      <div className=\"min-30 font-list\">\r\n                        <Link to={\"/product/\" + item.product}>{item.name}</Link>\r\n                      </div>\r\n                      <div>\r\n                        {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"placeorder-action\">\r\n          <h3 className=\"center font-title\">Order Summary</h3>\r\n          <ul>\r\n            <li>\r\n              <strong>Items</strong>\r\n              <div className=\"font-list\">${cart.itemsPrice}</div>\r\n            </li>\r\n            <li>\r\n              <strong>Shipping</strong>\r\n              <div className=\"font-list\">${cart.shippingPrice}</div>\r\n            </li>\r\n            <li>\r\n              <strong>Tax</strong>\r\n              <div className=\"font-list\">${cart.taxPrice}</div>\r\n            </li>\r\n            <li>\r\n              <strong>Order Total</strong>\r\n              <div className=\"font-list\">${cart.totalPrice}</div>\r\n            </li>\r\n            <div>\r\n              <button\r\n                className=\"button primary full-width\"\r\n                onClick={() => placeOrderHandler()}\r\n              >\r\n                {\" \"}\r\n                Place Order\r\n              </button>\r\n            </div>\r\n            {loading && <LoadingBox></LoadingBox>}\r\n            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deliverOrder, detailsOrder, payOrder } from \"../actions/orderActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport Axios from \"axios\";\r\nimport {\r\n  ORDER_DELIVER_RESET,\r\n  ORDER_PAY_RESET,\r\n} from \"../constants/orderConstant\";\r\n/*\r\n *fait  Espacer Nom et adresse ainsi que les alerts\r\n *fait  Centrer Order *** ou ne pas mettre la réf de l'ordre\r\n *fait  Aligner bouton et compteur\r\n *fait  Agrandir le texte du nom du produit et le prix\r\n */\r\nexport default function OrderScreen(props) {\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n  const orderId = props.match.params.id;\r\n  const orderDetails = useSelector((state) => state.orderDetails);\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const userInfo = userSignin;\r\n  const { order, loading, error } = orderDetails;\r\n\r\n  const orderPay = useSelector((state) => state.orderPay);\r\n  const {\r\n    loading: loadingPay,\r\n    error: errorPay,\r\n    success: successPay,\r\n  } = orderPay;\r\n  const orderDeliver = useSelector((state) => state.orderDeliver);\r\n  const {\r\n    loading: loadingDeliver,\r\n    error: errorDeliver,\r\n    success: successDeliver,\r\n  } = orderDeliver;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    // ! Pour avoir la commande actuel il faut actualiser la page donc :\r\n    if (order != undefined) {\r\n      if (order._id !== orderId) {\r\n        dispatch(detailsOrder(orderId));\r\n      }\r\n    }\r\n    const addPayPalScript = async () => {\r\n      const { data } = await Axios.get(\"/api/config/paypal\");\r\n\r\n      // * Il faut créer un script pour utiliser Paypal\r\n      const script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script); // *  Ajout du script dans la page HTML en dernier\r\n    };\r\n    if (\r\n      !order ||\r\n      successPay ||\r\n      successDeliver ||\r\n      (order && order._id !== orderId)\r\n    ) {\r\n      dispatch({ type: ORDER_PAY_RESET });\r\n      dispatch({ type: ORDER_DELIVER_RESET });\r\n      dispatch(detailsOrder(orderId));\r\n    } else {\r\n      if (!order.isPaid) {\r\n        if (!window.paypal) {\r\n          addPayPalScript();\r\n        } else {\r\n          setSdkReady(true);\r\n        }\r\n      }\r\n    }\r\n  }, [dispatch, order, orderId, sdkReady, successPay, successDeliver]);\r\n\r\n  const successPaymentHandler = (paymentResult) => {\r\n    dispatch(payOrder(order, paymentResult));\r\n  };\r\n  const deliverHandler = () => {\r\n    dispatch(deliverOrder(order._id));\r\n  };\r\n\r\n  return loading ? (\r\n    <LoadingBox></LoadingBox>\r\n  ) : error ? (\r\n    <MessageBox variant=\"danger\">{error}</MessageBox>\r\n  ) : (\r\n    <div>\r\n      {\r\n        (console.log(\"ORDER\", order, \"USER\", userInfo),\r\n        console.log(\r\n          \"admin\",\r\n          userInfo.admin,\r\n          \"isPaid\",\r\n          order.isPaid,\r\n          \"isDelivered\",\r\n          !order.isDelivered\r\n        ))\r\n      }\r\n      <h1 className=\"full-width font-title text-center \">Order {order._id} </h1>\r\n      <div className=\"placeorder\">\r\n        <div className=\"placeorder-info\">\r\n          <div>\r\n            <h3 className=\"font-title\"> Shipping</h3>{\" \"}\r\n            <div>\r\n              <strong>Name : </strong>\r\n              <span className=\"font-list\">\r\n                {order.shippingAddress.fullName}\r\n              </span>{\" \"}\r\n              <br />\r\n              <strong>Address : </strong>{\" \"}\r\n              <span className=\"font-list\">\r\n                {\" \"}\r\n                {order.shippingAddress.address}, {order.shippingAddress.city},{\" \"}\r\n                {order.shippingAddress.postalCode},{\" \"}\r\n                {order.shippingAddress.country}{\" \"}\r\n              </span>\r\n            </div>\r\n            <br />\r\n            {order.isDelivered ? (\r\n              <MessageBox variant=\"success\">\r\n                Delivered at {order.deliveredAt}{\" \"}\r\n              </MessageBox>\r\n            ) : (\r\n              <MessageBox variant=\"danger\"> Not Delivered </MessageBox>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-title\"> Payment</h3>\r\n            <div>\r\n              {\" \"}\r\n              <strong>Payment Method : </strong>{\" \"}\r\n              <span className=\"font-list\">{order.paymentMethod}.</span>{\" \"}\r\n            </div>\r\n            <br />\r\n            {order.isPaid ? (\r\n              <MessageBox variant=\"success\">\r\n                Delivered at {order.paidAt}{\" \"}\r\n              </MessageBox>\r\n            ) : (\r\n              <MessageBox variant=\"danger\"> Not Paid </MessageBox>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-title\">Order Items</h3>\r\n            <ul className=\"cart-list-container\">\r\n              {order.orderItems.length === 0 ? (\r\n                <div className=\"font-title\">Cart is empty</div>\r\n              ) : (\r\n                order.orderItems.map((item) => (\r\n                  <li key={item.product}>\r\n                    <div className=\"row full-width\">\r\n                      <img className=\"small\" src={item.image} alt=\"product\" />\r\n\r\n                      <div className=\"min-30 font-list\">\r\n                        <Link to={\"/product/\" + item.product}>{item.name}</Link>\r\n                      </div>\r\n                      <div className=\"font-list\">\r\n                        {item.qty} x ${item.price} = ${item.qty * item.price}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                ))\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"placeorder-action\">\r\n          <h3 className=\"center font-title\">Order Summary</h3>\r\n          <ul>\r\n            <li>\r\n              <strong>Items</strong>\r\n              <div className=\"font-list\">${order.itemsPrice}</div>\r\n            </li>\r\n            <li>\r\n              <strong>Shipping</strong>\r\n              <span className=\"font-list\">Order </span>\r\n            </li>\r\n            <li>\r\n              <strong>Tax</strong>\r\n              <div className=\"font-list\">${order.taxPrice}</div>\r\n            </li>\r\n            <li>\r\n              <strong>Order Total</strong>\r\n              <div className=\"font-list\">${order.totalPrice}</div>\r\n            </li>\r\n            {!order.isPaid && (\r\n              <div>\r\n                {!sdkReady ? (\r\n                  <LoadingBox></LoadingBox>\r\n                ) : (\r\n                  <PayPalButton\r\n                    amount={order.totalPrice}\r\n                    onSuccess={successPaymentHandler}\r\n                  ></PayPalButton>\r\n                )}\r\n              </div>\r\n            )}\r\n            {userInfo.admin && order.isPaid && !order.isDelivered && (\r\n              <li>\r\n                {loadingDeliver && <LoadingBox></LoadingBox>}\r\n                {errorDeliver && (\r\n                  <MessageBox variant=\"danger\">{errorDeliver}</MessageBox>\r\n                )}\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"primary block\"\r\n                  onClick={deliverHandler}\r\n                >\r\n                  Deliver Order\r\n                </button>\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { detailsUser, updateUserProfile } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { USER_UPDATE_RESET } from \"../constants/userConstants\";\r\n\r\n// *fait Centrer User Profile\r\n\r\nexport default function ProfileScreen() {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n  const userUpdateProfile = useSelector((state) => state.updateUserProfile);\r\n  const {\r\n    success: successUpdate,\r\n    error: errorUpdate,\r\n    loading: loadingUpdate,\r\n  } = userUpdateProfile;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (!user) {\r\n      dispatch({ type: USER_UPDATE_RESET });\r\n      dispatch(detailsUser(userInfo._id));\r\n    } else {\r\n      setName(user.name);\r\n      setEmail(user.email);\r\n    }\r\n  }, [dispatch, userInfo._id, user]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // TODO dispatch update profile\r\n    if (password !== confirmPassword) {\r\n      alert(\"Password and Confirm Password are not matched\");\r\n    } else {\r\n      dispatch(updateUserProfile({ userId: user._id, name, password }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {\" \"}\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          {\" \"}\r\n          <h1 className=\"font-list text-center\"> User Profile </h1>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <LoadingBox></LoadingBox>\r\n        ) : error ? (\r\n          <MessageBox variant=\"danger\">{error}</MessageBox>\r\n        ) : (\r\n          <>\r\n            {loadingUpdate && <LoadingBox></LoadingBox>}\r\n            {errorUpdate && (\r\n              <MessageBox variant=\"danger\">{errorUpdate}</MessageBox>\r\n            )}\r\n            {successUpdate && (\r\n              <MessageBox variant=\"success\">\r\n                Profile updated successfully\r\n              </MessageBox>\r\n            )}\r\n            <div>\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                id=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"text\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"Enter password\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n              <input\r\n                id=\"confirmPassword\"\r\n                type=\"password\"\r\n                placeholder=\"Enter confirm password\"\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n              ></input>\r\n            </div>\r\n            <div>\r\n              <label />\r\n              <button className=\"primary\" type=\"submit\">\r\n                Update{\" \"}\r\n              </button>\r\n            </div>{\" \"}\r\n          </>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  /*\r\n   * Permet de revenir à la page de connexion si jamais on est pas admin\r\n   * rest représente tous les paramètres de Route\r\n   *\r\n   */\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo && userInfo.admin ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  /*\r\n   * Permet de revenir à la page de connexion\r\n   * rest représente tous les paramètres de Route\r\n   *\r\n   */\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteOrder, listOrders } from \"../actions/orderActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { ORDER_DELETE_RESET } from \"../constants/orderConstant\";\r\n\r\nexport default function OrderListScreen(props) {\r\n  const orderList = useSelector((state) => state.orderList);\r\n  const { loading, error, orders } = orderList;\r\n  const orderDelete = useSelector((state) => state.orderDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = orderDelete;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch({ type: ORDER_DELETE_RESET });\r\n    dispatch(listOrders());\r\n  }, [dispatch, successDelete]);\r\n  const deleteHandler = (order) => {\r\n    if (window.confirm(\"Are you sure to delete ?\")) {\r\n      dispatch(deleteOrder(order._id));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Orders</h1>\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\"></MessageBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <table className=\"table\">\r\n          {\" \"}\r\n          <thead>\r\n            {\" \"}\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>USER</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>PAID</th>\r\n              <th>DELIVERED</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map((order) => (\r\n              <tr key={order._id}>\r\n                <td>{order._id}</td>\r\n                <td>{order.user.name}</td>\r\n                <td>{order.createdAt.substring(0, 10)}</td>\r\n                <td>{order.totalPrice.toFixed(2)}</td>\r\n                <td>{order.isPaid ? order.paidAt.substring(0, 10) : \"No\"}</td>\r\n                <td>\r\n                  {order.isDelivered\r\n                    ? order.isDeliveredAt.substring(1, 10)\r\n                    : \"No \"}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => {\r\n                      props.history.push(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </button>{\" \"}\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => deleteHandler(order)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HomeScreen from \"../src/Screens/HomeScreen\";\r\nimport ProductScreen from \"./Screens/ProductScreen\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\nimport CartScreen from \"./Screens/CartScreen\";\r\nimport SignInScreen from \"./Screens/SignInScreen\";\r\nimport RegisterScreen from \"./Screens/RegisterScreen\";\r\nimport ProductsScreen from \"./Screens/ProductsScreen\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ShippingScreen from \"./Screens/ShippingScreen\";\r\nimport PaymentScreen from \"./Screens/PaymentScreen\";\r\nimport PlaceOrderScreen from \"./Screens/PlaceOrderScreen\";\r\nimport { signout } from \"./actions/userActions\";\r\nimport OrderScreen from \"./Screens/OrderScreen\";\r\nimport ProfileScreen from \"./Screens/ProfileScreen\";\r\nimport AdminRoute from \"./components/AdminRoute\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport OrderListScreen from \"./Screens/OrderListScreen\";\r\n/*  \r\nTODO  : Vérifier qu'on peut faire plusieurs compte\r\nTODO  : Trouver le soucis de useState\r\n*/\r\n\r\nfunction App() {\r\n  // * On récupère les infos user dans le Cookies\r\n  const cart = useSelector((state) => state.cart);\r\n  const { cartItems } = cart;\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const dispatch = useDispatch();\r\n  /*\r\n  const openMenu = () => {\r\n    document.querySelector(\".sidebar\").classList.add(\"open\");\r\n  };\r\n  const closeMenu = () => {\r\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\r\n  };*/\r\n  const signoutHandler = () => {\r\n    dispatch(signout());\r\n  };\r\n  // * la link stylesheet permet d'afficher les étoiles\r\n  return (\r\n    <BrowserRouter>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n      ></link>\r\n      <div className=\"grid-container\">\r\n        <header className=\"row\">\r\n          <div>\r\n            <Link className=\"brand\" to=\"/\">\r\n              {\" \"}\r\n              E-Shop\r\n            </Link>\r\n          </div>\r\n          <div>\r\n            <Link to=\"/cart/:id?\">\r\n              Cart\r\n              {cartItems.length > 0 && (\r\n                <span className=\"badge\">{cartItems.length}</span>\r\n              )}\r\n            </Link>\r\n            {\"  \"}\r\n            {userInfo ? (\r\n              <div className=\"dropdown\">\r\n                <Link to=\"#\">\r\n                  {userInfo.name} <i className=\"fa fa-caret-down\"></i>{\" \"}\r\n                </Link>\r\n                <ul className=\"dropdown-content\">\r\n                  <li>\r\n                    <Link to=\"/profile\">User Profile</Link>\r\n                  </li>\r\n\r\n                  <li>\r\n                    <Link to=\"#signout\" onClick={signoutHandler}>\r\n                      Sign Out\r\n                    </Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            ) : (\r\n              <Link to=\"signin\">Sign In</Link>\r\n            )}\r\n            {userInfo && userInfo.admin && (\r\n              <div className=\"dropdown\">\r\n                <Link to=\"#admin\">\r\n                  {\" \"}\r\n                  Admin <i className=\"fa fa-caret-down\"></i>\r\n                </Link>\r\n\r\n                <ul className=\"dropdown-content\">\r\n                  {\" \"}\r\n                  <li>\r\n                    <Link className=\"/dashboard\"> Dashboard</Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/orderlist\"> Orders</Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/products\">Products</Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link className=\"/userlist\"> Users</Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </header>\r\n\r\n        <main>\r\n          <Route path=\"/payment\" component={PaymentScreen} />\r\n          <Route path=\"/placeorder\" component={PlaceOrderScreen} />\r\n          <Route path=\"/products\" component={ProductsScreen} />\r\n          <Route path=\"/shipping\" component={ShippingScreen} />\r\n          <Route path=\"/product/:id\" component={ProductScreen} />\r\n          <Route path=\"/cart/:id?\" exact={true} component={CartScreen} />\r\n          <Route path=\"/signin\" component={SignInScreen} />\r\n          <Route path=\"/register\" component={RegisterScreen} />\r\n\r\n          <Route path=\"/order/:id\" component={OrderScreen} />\r\n          <PrivateRoute path=\"/profile\" component={ProfileScreen} />\r\n          <AdminRoute\r\n            path=\"/orderlist\"\r\n            component={OrderListScreen}\r\n          ></AdminRoute>\r\n\r\n          <Route path=\"/\" exact={true} component={HomeScreen} />\r\n        </main>\r\n        <footer className=\"row center\">All right Reserved</footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// * Le ? après id montre que c'est optionnel et ça va fonctionner même si il n'y en a pas\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\n\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  productSaveReducer,\r\n  productDeleteReducer,\r\n} from \"./reducers/productReducers\";\r\nimport {\r\n  orderCreateReducer,\r\n  orderDetailsReducer,\r\n  orderListReducer,\r\n  orderDeleteReducer,\r\n  orderMineListReducer,\r\n  orderPayReducer,\r\n  orderDeliverReducer,\r\n} from \"./reducers/orderReducers\";\r\nimport {\r\n  userSignInReducer,\r\n  userRegisterReducer,\r\n  userDetailsReducer,\r\n  updateUserProfileReducer,\r\n} from \"./reducers/userReducers\";\r\nimport { cartReducers } from \"./reducers/cartReducers\";\r\n\r\n// * Middleware pour React\r\nimport thunk from \"redux-thunk\";\r\n\r\n/*\r\n * Permet de récupérer les infos stockées dans les cookies\r\n * const cartItems = Cookie.getJSON(\"cartItems\") || [];\r\n * const userInfo = Cookie.getJSON(\"userInfo\") || null;\r\n *\r\n * ON remplace les cookies par LocalStorage mais ce ne serait pas une solution fiable pour la production\r\n */\r\nconst initialState = {\r\n  userSignin: {\r\n    userInfo: localStorage.getItem(\"userInfo\")\r\n      ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n      : null,\r\n  },\r\n  cart: {\r\n    cartItems: localStorage.getItem(\"cartItems\")\r\n      ? JSON.parse(localStorage.getItem(\"cartItems\"))\r\n      : [],\r\n    shippingAddress: localStorage.getItem(\"shippingAddress\")\r\n      ? JSON.parse(localStorage.getItem(\"shippingAddress\"))\r\n      : {},\r\n    paymentMethod: \"PayPal\",\r\n  },\r\n};\r\n\r\n// * Get a state and a action and return a new state of that action\r\nconst reducer = combineReducers({\r\n  userSignin: userSignInReducer,\r\n  userRegister: userRegisterReducer,\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducers,\r\n  productSave: productSaveReducer,\r\n  productDelete: productDeleteReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  userDetails: userDetailsReducer,\r\n  updateUserProfile: updateUserProfileReducer,\r\n  orderPay: orderPayReducer,\r\n  orderMineList: orderMineListReducer,\r\n  orderList: orderListReducer,\r\n  orderDeliver: orderDeliverReducer,\r\n  orderDelete: orderDeleteReducer,\r\n});\r\n\r\n// TODO comprendre la compose\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  USER_SIGNIN_REQUEST,\r\n  USER_SIGNIN_FAIL,\r\n  USER_SIGNIN_SUCCESS,\r\n  USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS,\r\n  USER_REGISTER_FAIL,\r\n  USER_SIGNOUT,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  USER_UPDATE_REQUEST,\r\n  USER_UPDATE_SUCCESS,\r\n  USER_UPDATE_FAIL,\r\n  USER_UPDATE_RESET,\r\n} from \"../constants/userConstants\";\r\n\r\nexport function userSignInReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_SIGNIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_SIGNOUT:\r\n      return {};\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function userRegisterReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport const userDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case USER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n\r\n    case USER_DETAILS_SUCCESS:\r\n      return { loading: false, user: action.payload };\r\n\r\n    case USER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const updateUserProfileReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n\r\n    case USER_UPDATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,\r\n  PRODUCT_SAVE_REQUEST,\r\n  PRODUCT_SAVE_SUCCESS,\r\n} from \"../constants/productConstants\";\r\n\r\nexport function productListReducer(state = { products: [] }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { loading: true, products: [] };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return { loading: false, products: action.payload };\r\n    case PRODUCT_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function productDetailsReducer(state = { product: {} }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DETAILS_SUCCESS:\r\n      return { loading: false, product: action.payload };\r\n    case PRODUCT_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function productSaveReducer(state = { product: {} }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_SAVE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_SAVE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case PRODUCT_SAVE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function productDeleteReducer(state = { product: {} }, action) {\r\n  switch (action.type) {\r\n    case PRODUCT_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case PRODUCT_DELETE_SUCCESS:\r\n      return { loading: false, success: true, product: action.payload };\r\n    case PRODUCT_DELETE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  CART_ADD_ITEM,\r\n  CART_EMPTY,\r\n  CART_REMOVE_ITEM,\r\n  CART_SAVE_PAYMENT,\r\n  CART_SAVE_SHIPPING,\r\n} from \"../constants/cartConstants\";\r\n\r\nfunction cartReducers(\r\n  state = { cartItems: [], shipping: {}, payment: {} },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const product = state.cartItems.find((x) => x.product === item.product);\r\n      if (product) {\r\n        return {\r\n          ...state,\r\n          cartItems: state.cartItems.map((x) =>\r\n            x.product === product.product ? item : x\r\n          ),\r\n        };\r\n      }\r\n      return { ...state, cartItems: [...state.cartItems, item] };\r\n    case CART_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n      };\r\n    case CART_SAVE_SHIPPING:\r\n      // * C'est avec ShippingAddress qu'on va transporter les informations\r\n      return { ...state, shippingAddress: action.payload };\r\n    case CART_SAVE_PAYMENT:\r\n      return { ...state, payment: action.payload };\r\n    case CART_EMPTY:\r\n      return { ...state, cartItems: [] };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { cartReducers };\r\n","import {\r\n  ORDER_CREATE_FAIL,\r\n  ORDER_CREATE_REQUEST,\r\n  ORDER_CREATE_RESET,\r\n  ORDER_CREATE_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_MINE_LIST_FAIL,\r\n  ORDER_MINE_LIST_REQUEST,\r\n  ORDER_MINE_LIST_SUCCESS,\r\n  ORDER_PAY_FAIL,\r\n  ORDER_PAY_REQUEST,\r\n  ORDER_PAY_RESET,\r\n  ORDER_PAY_SUCCESS,\r\n  ORDER_LIST_FAIL,\r\n  ORDER_LIST_REQUEST,\r\n  ORDER_LIST_SUCCESS,\r\n  ORDER_DELETE_REQUEST,\r\n  ORDER_DELETE_SUCCESS,\r\n  ORDER_DELETE_FAIL,\r\n  ORDER_DELETE_RESET,\r\n  ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_RESET,\r\n} from \"../constants/orderConstant\";\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_CREATE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_CREATE_SUCCESS:\r\n      return { loading: false, success: true, order: action.payload };\r\n    case ORDER_CREATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_CREATE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDetailsReducer = (state = { loading: true }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DETAILS_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DETAILS_SUCCESS:\r\n      return { loading: false, order: action.payload };\r\n    case ORDER_DETAILS_FAIL:\r\n      return { loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_PAY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_PAY_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_PAY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_PAY_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const orderMineListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_MINE_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_MINE_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_MINE_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n  switch (action.type) {\r\n    case ORDER_LIST_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_LIST_SUCCESS:\r\n      return { loading: false, orders: action.payload };\r\n    case ORDER_LIST_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDeleteReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELETE_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELETE_SUCCESS:\r\n      return { loading: true, success: true };\r\n    case ORDER_DELETE_FAIL:\r\n      return { loading: true, error: action.payload };\r\n    case ORDER_DELETE_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELIVER_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELIVER_SUCCESS:\r\n      return { loading: true, success: true };\r\n    case ORDER_DELIVER_FAIL:\r\n      return { loading: true, error: action.payload };\r\n    case ORDER_DELIVER_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./css/index.css\";\r\nimport \"./css/cart.css\";\r\nimport \"./css/sidebar.css\";\r\nimport \"./css/product.css\";\r\nimport \"./css/card.css\";\r\nimport \"./css/checkout.css\";\r\nimport \"./css/form.css\";\r\nimport \"./css/image.css\";\r\n\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\n// TODO Comprendre Provider\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}